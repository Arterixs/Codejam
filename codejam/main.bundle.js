(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();class e{constructor(t,e,n){const o=document.createElement(t);o.className=e,n.append(o),this.node=o}}class n extends e{btnCont;timer;constructor(t,n,i){super(t,n,i),new e("h1","title",this.node).node.textContent="15 Puzzle",this.btnCont=new o("div","btnCont pointer",this.node),this.timer=new r("div","data-cont",this.node)}}class o extends e{btnShuffle;btnPause;btnSound;soundSpan;constructor(t,n,o){super(t,n,o),this.btnShuffle=new e("button","button shuffle",this.node),this.btnShuffle.node.textContent="New game",this.btnPause=new e("button","button pause",this.node),this.btnPause.node.textContent="Pause",this.btnSound=new e("button","button sound",this.node),this.soundSpan=new e("span","icon",this.btnSound.node),new e("button","button result",this.node).node.textContent="Results"}}class r extends e{moveNumber;timerTimer;constructor(t,n,o){super(t,n,o);const r=new e("div","move-cont",this.node),i=new e("p","move-cont__text",r.node);this.moveNumber=new e("p","move-cont__number",r.node),i.node.textContent="Move:",this.moveNumber.node.textContent=0;const s=new e("div","timer-cont",this.node),a=new e("p","timer-cont__text",s.node);this.timerTimer=new e("p","timer-cont__timer",s.node),a.node.textContent="Time:",this.timerTimer.node.textContent="00:00"}}class i extends e{cell;boardWrap;btnShuffleStart;boardShadow;span;constructor(t,n,o){super(t,n,o);const r=new e("div","board-cont",this.node);this.boardWrap=new e("div","board-wrap",r.node),this.boardShadow=new e("div","shadow",r.node),this.btnShuffleStart=new e("button","button shuffleStart",this.boardShadow.node),this.btnShuffleStart.node.textContent="Shuffle and start",this.span=new e("span","shadow__span",this.boardShadow.node),this.generate(17,"four")}generate(t,n){for(let o=1;o<t;o++){if(o===t-1)return this.cell=new e("div",`cell ${n} null`,this.boardWrap.node),void(this.cell.node.draggable=!0);this.cell=new e("div",`cell ${n}`,this.boardWrap.node),this.cell.node.textContent=o,this.cell.node.draggable=!0}}random(t,n){for(let o=0;o<t.length;o++)0!==t[o]?(this.cell=new e("div",`cell ${n}`,this.boardWrap.node),this.cell.node.textContent=t[o],this.cell.node.draggable=!0):(this.cell=new e("div",`cell ${n} null`,this.boardWrap.node),this.cell.node.draggable=!0)}}class s extends e{outherSizeOne;outherSizeTwo;outherSizeThree;outherSizeFour;outherSizeFive;outherSizeSix;frameSize;outherLink;constructor(t,n,o){super(t,n,o);const r=new e("div","footer-cont",this.node),i=new e("div","frame-cont",r.node),s=new e("p","frame-cont__text",i.node);this.frameSize=new e("p","frame-cont__size",i.node),s.node.textContent="Frame size:",this.frameSize.node.textContent="4x4";const a=new e("div","outher-cont",r.node);new e("p","outher-cont__text",a.node).node.textContent="Other size:",this.outherLink=new e("div","outher-link",a.node),this.outherSizeOne=new e("p","outher-link__size",this.outherLink.node),this.outherSizeOne.node.textContent="3x3",this.outherSizeTwo=new e("p","outher-link__size outher-link__size_active",this.outherLink.node),this.outherSizeTwo.node.textContent="4x4",this.outherSizeThree=new e("p","outher-link__size",this.outherLink.node),this.outherSizeThree.node.textContent="5x5",this.outherSizeFour=new e("p","outher-link__size",this.outherLink.node),this.outherSizeFour.node.textContent="6x6",this.outherSizeFive=new e("p","outher-link__size",this.outherLink.node),this.outherSizeFive.node.textContent="7x7",this.outherSizeSix=new e("p","outher-link__size",this.outherLink.node),this.outherSizeSix.node.textContent="8x8"}}const a=new class extends e{footer;board;header;constructor(t,o,r){super(t,o,r);const a=new e("div","conteiner",this.node);this.header=new n("header","header",a.node),this.board=new i("main","main",a.node),this.footer=new s("footer","footer",a.node)}}("div","wrapper",document.body),d=a.board.boardWrap.node.childNodes;function u(){const t=Array.from(d);let e="";t.find((t=>"null"===t.classList[2]&&(e=t))),e.ondragover=c,e.ondrop=function(){e.classList.remove("null"),e.ondragover=null,evt.target.classList.add("null"),e.textContent=evt.target.textContent,evt.target.textContent="",u()}}function c(t){t.preventDefault()}u();const h=function(){const t=a.header.timer.timerTimer.node;let e=0,n=0;return function(o){if("stop"===o)return t.textContent="00:00",e=0,void(n=0);e++,e<10&&(t.textContent=`0${n}:0${e}`),e>=10&&(t.textContent=`0${n}:${e}`),e>59&&(e=0,n++,t.textContent=`0${n}:0${e}`),n>=10&&(t.textContent=`${n}:0${e}`)}}();let l=null;function f(t){return"pause"===t?clearInterval(l):"stop"===t?(h("stop"),clearInterval(l)):l=setInterval(h,1e3)}const m=a.header.btnCont.btnPause.node,p=a.board.span.node;function b(){_.classList.add("display"),p.textContent="",C.classList.remove("display")}function v(){_.classList.remove("display"),p.textContent="",C.classList.remove("display")}m.onclick=function(){"00:00"!==a.header.timer.timerTimer.node.textContent&&("Pause"===m.textContent?(f("pause"),m.textContent="Continue",p.classList.add("shadow__pause"),_.classList.remove("display"),p.textContent="Pause",C.classList.add("display")):(f(),m.textContent="Pause",p.classList.remove("shadow__pause"),b()))};const x=a.header.btnCont.btnShuffle.node,C=a.board.btnShuffleStart.node,_=a.board.boardShadow.node,w=a.header.btnCont.node,S=a.board;function z(){const t=a.header.btnCont.btnPause.node,e=Array.from(d),n=e[0].classList[1],o=[];e.forEach((t=>o.push(Number(t.textContent))));let r=function(t){let e,n=0,o=0,r=[];return function t(i){const s=Array.from(i);for(let t=s.length-1;t>0;t--)n=Math.floor(Math.random()*(t+1)),e=s[n],s[n]=s[t],s[t]=e;for(let t=0;t<s.length;t++)for(let e=t;e<s.length;e++)s[t]>s[e]&&0!==s[e]&&(o+=1);if(o%2==0)return r=s,s;o=0,t(s)}(t),r}(o);e.forEach((t=>{t.remove()})),S.random(r,n),f("stop"),A("true"),$(),b(),t.textContent="Pause"}C.addEventListener("click",z),C.addEventListener("click",(function(){return w.classList.remove("pointer"),_.classList.add("display")})),x.onclick=z;const L=a.header.timer.timerTimer.node;const g=t.p+"assets/mp3/sound.mp3",k=a.header.btnCont.btnSound.node,y=a.header.btnCont.soundSpan.node,P=new Audio(g);P.volume=.1;const E=function(){let t=!0;return function(){return!0===t?(t=!1,y.classList.add("icon_off"),P.volume=0):(t=!0,y.classList.remove("icon_off"),P.volume=.1)}}();k.onclick=E;const T=a.header.timer.moveNumber.node;function $(){for(let t=0;t<d.length;t++)d[t].onclick=N}window.onload=$();const A=function(){let t=0;return function(e){if("true"===e)return T.textContent=0,t=0;t++,T.textContent=t}}();function N(){const t=Array.from(d);let e="";t.find((t=>"null"===t.classList[2]&&(e=t)));const n=this,o=t.indexOf(this,0),r=Math.sqrt(t.length),i=t[o+r],s=t[o-r];this.previousElementSibling!==e&&this.nextElementSibling!==e&&i!==e&&s!==e||(A(),e.classList.remove("null"),e.ondragover=null,n.classList.add("null"),e.textContent=n.textContent,n.textContent="",u(),P.play(),d.forEach((t=>t.onclick=null)),"1"===T.textContent&&f(),setTimeout((()=>{d.forEach((t=>t.onclick=N))}),500),setTimeout((()=>{!function(){const t=[],e=[];for(let t=0;t<d.length-1;t++)e.push(Number(d[t].textContent));for(let e=1;e<d.length;e++)t.push(e);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return;!function(){_.classList.remove("display");let t=L.textContent,e=T.textContent;p.textContent=`«Ура! Вы решили головоломку за ${t} и ${e} ходов!»`,C.classList.add("display"),f("pause")}()}()}),700))}const F=a.footer.outherSizeOne.node,W=a.footer.outherSizeTwo.node,O=a.footer.outherSizeThree.node,M=a.footer.outherSizeFour.node,I=a.footer.outherSizeFive.node,j=a.footer.outherSizeSix.node,q=a.footer.outherLink.node,B=a.footer.frameSize.node,D=a.board,R=q.childNodes;function G(){return w.classList.add("pointer"),_.classList.remove("display")}F.onclick=function(){a.header.btnCont.btnPause.node.textContent="Pause",Array.from(d).forEach((t=>{t.remove()})),D.generate(10,"three"),B.textContent=F.textContent,R.forEach((t=>t.classList.remove("outher-link__size_active"))),this.classList.add("outher-link__size_active"),A("true"),f("stop"),$(),G(),v()},W.onclick=function(){a.header.btnCont.btnPause.node.textContent="Pause",Array.from(d).forEach((t=>{t.remove()})),D.generate(17,"four"),B.textContent=W.textContent,R.forEach((t=>t.classList.remove("outher-link__size_active"))),this.classList.add("outher-link__size_active"),A("true"),f("stop"),$(),G(),v()},O.onclick=function(){a.header.btnCont.btnPause.node.textContent="Pause",Array.from(d).forEach((t=>{t.remove()})),D.generate(26,"five"),B.textContent=O.textContent,R.forEach((t=>t.classList.remove("outher-link__size_active"))),this.classList.add("outher-link__size_active"),A("true"),f("stop"),$(),G(),v()},M.onclick=function(){a.header.btnCont.btnPause.node.textContent="Pause",Array.from(d).forEach((t=>{t.remove()})),D.generate(37,"six"),B.textContent=M.textContent,R.forEach((t=>t.classList.remove("outher-link__size_active"))),this.classList.add("outher-link__size_active"),A("true"),f("stop"),$(),G(),v()},I.onclick=function(){a.header.btnCont.btnPause.node.textContent="Pause",Array.from(d).forEach((t=>{t.remove()})),D.generate(50,"seven"),B.textContent=I.textContent,R.forEach((t=>t.classList.remove("outher-link__size_active"))),this.classList.add("outher-link__size_active"),A("true"),f("stop"),$(),G(),v()},j.onclick=function(){a.header.btnCont.btnPause.node.textContent="Pause",Array.from(d).forEach((t=>{t.remove()})),D.generate(65,"eight"),B.textContent=j.textContent,R.forEach((t=>t.classList.remove("outher-link__size_active"))),this.classList.add("outher-link__size_active"),A("true"),f("stop"),$(),G(),v()}})();
//# sourceMappingURL=main.bundle.js.map